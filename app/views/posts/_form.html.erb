<%= form_with(model: post) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <div class="grid grid-cols-1 mx-auto max-w-screen-lg bg-white">
    <div class="grid grid-cols-1">
      <article>
        <div class="py-2 border-b-2 px-2 bg-lime-200">
          <%= f.text_field :title, placeholder: "タイトル(必須)", maxlength: 50, class: "w-full bg-amber-100 text-xl font-bold text-black rounded-md pl-2"%>
        </div>
        <div class="grid grid-cols-1 relative border-t-2">
          <span class="flex justify-start items-center ml-3 py-1 bg-white border-t">
            <%= image_tag "no_avatar.png", class: "w-8 h-8 object-cover rounded-full border border-yellow-300" %>
            <p class="text-sm font-bold text-stone-500 mr-2 ml-2 hover:underline hover:underline-offset-2">ユーザー名</p>
          </span>
        </div>
        <div class="flex">
          <p class="font-semibold text-stone-500 ml-2">サムネイル画像</p>
          <p class="text-xs self-start ml-0.5">※1</p>
        </div>
        <div class="h-full overflow-hidden">
          <%= image_tag'gettyimages-825522644-612x612.jpg', alt: "サムネイルのサンプル", class: "w-full object-center" %>
        </div>
      </article>
      <section>
        <div class="mx-2">
          <span class="flex my-2 tracking-wide  whitespace-pre-wrap font-medium text-base">
            <%= f.text_area :content, data: {controller: "autogrow" }, maxlength: 255, placeholder: "本文を入力", class: "text-black w-full pt-1 pl-1 pb-3 rounded-md bg-amber-100" %>
          </span>
        </div>

          <div class="grid grid-cols-1 gap-2 py-4 bg-lime-200">
            <p class="font-semibold text-stone-500 ml-2">その他の画像</p>
            <p class="text-sm font-medium text-stone-500  ml-3">※1・・・追加した画像の一枚目がサムネイルになります。</p>
            <% if post.images.attached? %>
              <% post.images.each do |image| %>
                <div class="bg-lime-400">
                  <%= f.check_box :image_ids, {multiple: true }, image.id, false %>
                  <label for="post_image_ids_<%= image.id %>" >
                    <div class="h-full overflow-hidden">
                      <%= image_tag image, alt: "他の画像", class: "w-full object-center" %>
                    </div>
                  </label> 
                </div>
              <% end %>
            <% end %>
          </div>

        <div class="flex flex-col no-tap-highlighting bg-red-200 py-4">
          <%= f.label :images, "画像を追加", class: "font-semibold text-black ml-4" %>
          <%= f.file_field :images, multiple: true, class: "ml-2" %>
        </div>


      </section>
    </div>
    <div class="flex justify-center bg-white">
      <%= f.submit "投稿", class:"px-5 py-1 my-2 rounded-2xl tracking-widest font-semibold bg-white border-2 text-stone-600 hover:text-black border-cyan-400 hover:bg-black hover:bg-opacity-5 focus:outline-none focus:ring-0 transition duration-150 ease-in-out no-tap-highlighting" %>
    </div>
<% end %>